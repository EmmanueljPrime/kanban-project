FROM node:20-alpine

WORKDIR /app

COPY package.json pnpm-lock.yaml* ./

RUN corepack enable && corepack prepare pnpm@latest --activate
RUN pnpm install

COPY tsconfig*.json ./
COPY vite.config.* ./
COPY index.html ./
COPY public ./public
COPY src ./src

EXPOSE 5173

CMD ["pnpm", "dev", "--host"]
